library(sp)
library(raster)
library(rgdal)
library(xml)
library(rgrass7)
initGRASS(gisBase = Sys.getenv('GISBASE'),
gisDbase = "C:/footprint_test",
location = "fp_test_loc", mapset = "PERMANENT", override = TRUE)
load("C:/footprint_test/.RData")
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(sp)
library(raster)
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(sp)
library(raster)
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(sp)
library(raster)
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(rgdal)
library(XML)
library(rgrass7)
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', flags = '--overwrite', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
dissname_list <- list()
for (vn in vname_list) {
diss_name <- paste0(vn, '_sp')
execGRASS('v.dissolve', flags = 'overwrite', parameters = list(input = vn,
column = 'value',
output = diss_name))
dissname_list[[vn]] <- diss_name
}
library(sp)
library(raster)
library(rasterVis)
library(rgdal)
library(XML)
library(rgrass7)
a <- raster(paste0(getwd(), '/testarea_top.tif'))
setwd('C:/footprint_test')
a <- raster(paste0(getwd(), '/testarea_top.tif'))
b <- raster(paste0(getwd(), '/testarea_mid.tif'))
c <- raster(paste0(getwd(), '/testarea_low.tif'))
spplot(a) + spplot(b) + spplot(c)
spplot(a) +
spplot(b) +
spplot(c)
spplot(a) +
layer(b) +
layer(c)
spplot(a) +
layer(sp.raster(b)) +
layer(sp.raster(c))
spplot(a) + layer(raster(b))
library(rasterVis)
spplot(a) + layer(sp.grid(b))
levelplot(a) +levelplot(b)
library(ggplot2)
ggplot( data = c(a, b, c)) +
geom_tile(aes(fill=factor(value)))+
coord_equal()
ggplot(data = a) +
geom_tile(aes(fill=factor(value)))+
coord_equal()
ggplot(data = a) +
geom_raster(aes(fill=factor(value)))+
coord_equal()
a_p <- rasterToPoints(a)
a_df <- data.frame(a_p)
colnames(a_df) <- c('Longitude', 'Latitude', 'Elevation')
ggplot(data=a_df, aes(y=Latitude, x=Longitude)) +
geom_raster(aes(fill=Elevation))
ggplot(data=a_df, aes(y=Latitude, x=Longitude)) +
geom_raster(aes(fill=Elevation)) +
coord_equal()
abp <- rasterToPoints(b)
b_df <- data.frame(b_p)
colnames(b_df) <- c('Longitude', 'Latitude', 'Elevation')
b_p <- rasterToPoints(b)
b_df <- data.frame(b_p)
colnames(b_df) <- c('Longitude', 'Latitude', 'Elevation')
ggplot(data=list(a_df, b_df), aes(y=Latitude, x=Longitude)) +
geom_raster(aes(fill=Elevation)) +
coord_equal()
ggplot(data=c(a_df, b_df), aes(y=Latitude, x=Longitude)) +
geom_raster(aes(fill=Elevation)) +
coord_equal()
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_raster(data = a_df, aes(fill=Elevation)) +
geom_raster(data = b_df, aes(fill=Elevation)) +
coord_equal()
c_p <- rasterToPoints(c)
c_df <- data.frame(c_p)
colnames(c_df) <- c('Longitude', 'Latitude', 'Elevation')
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_raster(data = a_df, aes(fill=Elevation)) +
geom_raster(data = b_df, aes(fill=Elevation)) +
geom_raster(data = c_df, aes(fill=Elevation)) +
coord_equal()
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_raster(data = a_df, aes(fill=Elevation)) +
scale_fill_distiller(palette = "Spectral")
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_raster(data = a_df, aes(fill=Elevation)) +
geom_raster(data = b_df, aes(fill=Elevation)) +
geom_raster(data = c_df, aes(fill=Elevation)) +
scale_fill_distiller(palette = "Spectral") +
coord_equal()
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_polygon(data = a_df, aes(fill='skyblue1'))
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_polygon(data = a_df)
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_polygon(data = one)
f_one <- fortify(one)
one <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_low_foot_v_sp')
one <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_low_foot_v_sp')
f_one <- fortify(one)
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_polygon(data = one)
ggplot(NULL) +
geom_polygon(data = one)
ggplot(NULL, aes(y=Lat, x=Long)) +
geom_polygon(data = one)
ggplot(NULL, aes(y=lat, x=long)) +
geom_polygon(data = one)
ggplot(NULL, aes(y=lat, x=long)) +
geom_polygon(data = one, aes(fill='skyblue1'))
ggplot(NULL, aes(y=lat, x=long)) +
geom_polygon(data = one, aes(fill='skyblue1'), show.legend = FALSE)
ggplot(NULL, aes(y=lat, x=long), show.legend = FALSE)) +
geom_polygon(data = one, aes(fill='skyblue1'))
ggplot(NULL, aes(y=lat, x=long), show.legend = FALSE) +
geom_polygon(data = one, aes(fill='skyblue1'))
ggplot(NULL, aes(y=lat, x=long), show.legend = FALSE) +
geom_polygon(data = one, aes(fill=id))
ggplot(NULL, aes(y=lat, x=long)) +
geom_polygon(data = one, aes(colour='skyblue1'), show.legend = FALSE)
ggplot(NULL, aes(y=lat, x=long)) +
geom_polygon(data = one, aes(colour='steelblue2'), show.legend = FALSE)
ggplot(NULL, aes(y=lat, x=long)) +
geom_polygon(data = one, aes(colour = 'black', fill = 'skyblue1' ), show.legend = FALSE)
two <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_mid_foot_v_sp')
three <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_top_foot_v_sp')
f_one <- fortify(c(one, two, three))
two <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_mid_foot_v_sp')
two <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_mid_foot_v_sp')
two <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_mid_foot_v')
three <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_top_foot_v_sp')
f_one <- fortify(c(one, two, three))
all <- merge(one, two, all=T)
all <- merge(all, three, all=T)
all <- fortify(all)
ggplot(data = all, aes(y=lat, x=long)) +
geom_polygon(show.legend = FALSE)
all <- union(one, two)
all <- union(all, three)
all <- fortify(all)
ggplot(data = all, aes(y=lat, x=long)) +
geom_polygon(show.legend = FALSE)
one <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_low_foot_v')
two <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_mid_foot_v')
three <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_top_foot_v')
all <- union(one, two)
all <- union(all, three)
all <- fortify(all)
ggplot(data = all, aes(y=lat, x=long)) +
geom_polygon(show.legend = FALSE)
one <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_low_foot_v')
two <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_mid_foot_v')
three <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_top_foot_v')
all <- union(one, three)
all <- union(all, two)
all <- fortify(all)
ggplot(data = all, aes(y=lat, x=long)) +
geom_polygon(show.legend = FALSE)
all <- union(one, two, three)
all <- Reduce(union, list(one, two, three))
all <- fortify(all)
ggplot(data = all, aes(y=lat, x=long)) +
geom_polygon(show.legend = FALSE)
all <- one + two + three
ggplot(data = all, aes(y=lat, x=long)) +
geom_polygon(show.legend = FALSE)
all <- fortify(all)
ggplot(data = all, aes(y=lat, x=long)) +
geom_polygon(show.legend = FALSE)
View(all)
all <- one + two + three
plot(all)
all <- rbind(one, two, three, makeUniqueIDs = TRUE)
all <- fortify(all)
ggplot(data = all, aes(y=lat, x=long)) +
geom_polygon(show.legend = FALSE)
all <- rbind(one, two, three, makeUniqueIDs = TRUE)
plot(all)
all <- union(one, two)
all <- union(all, three)
plot(all)
all2 <- fortify(all)
ggplot(data = all2, aes(y=lat, x=long)) +
geom_polygon(show.legend = FALSE)
ggplot(data = all2, aes(y=lat, x=long)) +
geom_polygon(show.legend = FALSE) +
coord_equal()
ggplot(data = all, aes(y=lat, x=long)) +
geom_polygon(show.legend = FALSE) +
coord_equal()
ggplot(data = all, aes(y=lat, x=long, colour='black', fill='blue')) +
geom_polygon(show.legend = FALSE) +
coord_equal()
ggplot(data = all, aes(y=lat, x=long, colour='black', fill='white')) +
geom_polygon(show.legend = FALSE) +
coord_equal()
ggplot(data = all, aes(y=lat, x=long, colour='black', fill=value)) +
geom_polygon(aes(fill='blue'), show.legend = FALSE) +
coord_equal()
all <- one + two + three
all2 <- fortify(all)
View(all2)
plot(all2)
plot(all)
ggplot(NULL, aes(y=lat, x=long, colour='black', fill=value)) +
geom_polygon(data = one, aes(fill='blue'), show.legend = FALSE) +
geom_polygon(data = two, aes(fill='green'), show.legend = FALSE) +
geom_polygon(data = three, aes(fill='red'), show.legend = FALSE)
coord_equal()
ggplot(NULL, aes(y=lat, x=long, colour='black', fill=value)) +
geom_polygon(data = one, aes(fill='blue'), show.legend = FALSE) +
geom_polygon(data = two, aes(fill='green'), show.legend = FALSE) +
geom_polygon(data = three, aes(fill='red'), show.legend = FALSE) +
coord_equal()
ggplot(NULL, aes(y=lat, x=long, colour=value, fill=value)) +
geom_polygon(data = one, aes(fill='blue', colour='black'), show.legend = FALSE) +
geom_polygon(data = two, aes(fill='green'), show.legend = FALSE) +
geom_polygon(data = three, aes(fill='red'), show.legend = FALSE) +
coord_equal()
ggplot(NULL, aes(y=lat, x=long, fill=value)) +
geom_polygon(data = one, aes(fill='blue', colour='black'), show.legend = FALSE) +
geom_polygon(data = two, aes(fill='green'), show.legend = FALSE) +
geom_polygon(data = three, aes(fill='red'), show.legend = FALSE) +
coord_equal()
ggplot(NULL, aes(y=lat, x=long, fill=value)) +
geom_polygon(data = one, aes(fill='skyblue1'), show.legend = FALSE) +
geom_polygon(data = two, aes(fill='plum1'), show.legend = FALSE) +
geom_polygon(data = three, aes(fill='palevioletred1'), show.legend = FALSE) +
coord_equal()
ggplot(NULL, aes(y=lat, x=long)) +
geom_polygon(data = one, aes(fill='skyblue1'), show.legend = FALSE) +
geom_polygon(data = two, aes(fill='plum1'), show.legend = FALSE) +
geom_polygon(data = three, aes(fill='palevioletred1'), show.legend = FALSE) +
coord_equal()
ggplot(NULL, aes(y=lat, x=long)) +
geom_polygon(data = one, show.legend = FALSE) +
geom_polygon(data = two, show.legend = FALSE) +
geom_polygon(data = three, show.legend = FALSE) +
coord_equal()
one_f <- fortify(one)
one_f <- fortify(one)
names(one_f)[names(one_f) == 'lat'] <- 'Latitude'
names(one_f)[names(one_f) == 'long'] <- 'Longitude'
two_f <- fortify(two)
names(two_f)[names(two_f) == 'lat'] <- 'Latitude'
names(two_f)[names(two_f) == 'long'] <- 'Longitude'
three_f <- fortify(three)
names(three_f)[names(three_f) == 'lat'] <- 'Latitude'
names(three_f)[names(three_f) == 'long'] <- 'Longitude'
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_polygon(data = one_f, show.legend = FALSE) +
geom_polygon(data = two_f, show.legend = FALSE) +
geom_polygon(data = three_f, show.legend = FALSE) +
coord_equal()
author: "@obrl_soil"
system2(rmc, paste0('file=', calcs, '--overwrite'))
rmc   <- 'C:/OSGeo4W64/apps/grass/grass-7.0.5/bin/r.mapcalc.exe'
calcs <- 'C:/footprint_test/rmc_instructions.txt'
system2(rmc, paste0('file=', calcs, '--overwrite'))
system2(rmc, paste0('file=', calcs, ' --overwrite'))
one <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_low_foot_v')
two <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_mid_foot_v')
three <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_top_foot_v_sp')
one_f <- fortify(one)
names(one_f)[names(one_f) == 'lat'] <- 'Latitude'
names(one_f)[names(one_f) == 'long'] <- 'Longitude'
two_f <- fortify(two)
names(two_f)[names(two_f) == 'lat'] <- 'Latitude'
names(two_f)[names(two_f) == 'long'] <- 'Longitude'
three_f <- fortify(three)
names(three_f)[names(three_f) == 'lat'] <- 'Latitude'
names(three_f)[names(three_f) == 'long'] <- 'Longitude'
library(sp)
library(raster)
library(rasterVis)
library(ggplot2)
one <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_low_foot_v')
two <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_mid_foot_v')
three <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_top_foot_v_sp')
one_f <- fortify(one)
names(one_f)[names(one_f) == 'lat'] <- 'Latitude'
names(one_f)[names(one_f) == 'long'] <- 'Longitude'
two_f <- fortify(two)
names(two_f)[names(two_f) == 'lat'] <- 'Latitude'
names(two_f)[names(two_f) == 'long'] <- 'Longitude'
three_f <- fortify(three)
names(three_f)[names(three_f) == 'lat'] <- 'Latitude'
names(three_f)[names(three_f) == 'long'] <- 'Longitude'
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_polygon(data = one_f,   fill = NA, colour = 'black', show.legend = FALSE) +
geom_polygon(data = two_f,   fill = NA, colour = 'black', show.legend = FALSE) +
geom_polygon(data = three_f, fill = NA, colour = 'black', show.legend = FALSE) +
coord_equal()
library(rgdal)
one <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_low_foot_v')
two <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_mid_foot_v')
three <- readOGR(dsn = 'C:\\footprint_test', layer = 'testarea_top_foot_v_sp')
one_f <- fortify(one)
names(one_f)[names(one_f) == 'lat'] <- 'Latitude'
names(one_f)[names(one_f) == 'long'] <- 'Longitude'
two_f <- fortify(two)
names(two_f)[names(two_f) == 'lat'] <- 'Latitude'
names(two_f)[names(two_f) == 'long'] <- 'Longitude'
three_f <- fortify(three)
names(three_f)[names(three_f) == 'lat'] <- 'Latitude'
names(three_f)[names(three_f) == 'long'] <- 'Longitude'
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_polygon(data = one_f,   fill = NA, colour = 'black', show.legend = FALSE) +
geom_polygon(data = two_f,   fill = NA, colour = 'black', show.legend = FALSE) +
geom_polygon(data = three_f, fill = NA, colour = 'black', show.legend = FALSE) +
coord_equal()
View(three_f)
ggplot(NULL, aes(y=Latitude, x=Longitude), group=group) +
geom_polygon(data = one_f,   fill = NA, colour = 'black', show.legend = FALSE) +
geom_polygon(data = two_f,   fill = NA, colour = 'black', show.legend = FALSE) +
geom_polygon(data = three_f, fill = NA, colour = 'black', show.legend = FALSE) +
coord_equal()
ggplot(NULL, aes(y=Latitude, x=Longitude)) +
geom_polygon(data = one_f,   fill = NA, colour = 'black', show.legend = FALSE) +
geom_polygon(data = two_f,   fill = NA, colour = 'black', show.legend = FALSE) +
geom_polygon(data = three_f, fill = NA, colour = 'black', show.legend = FALSE, group=group) +
coord_equal()
ggplot(NULL, aes(y=Latitude, x=Longitude, group=group)) +
geom_polygon(data = one_f,   fill = NA, colour = 'black', show.legend = FALSE) +
geom_polygon(data = two_f,   fill = NA, colour = 'black', show.legend = FALSE) +
geom_polygon(data = three_f, fill = NA, colour = 'black', show.legend = FALSE) +
coord_equal()
